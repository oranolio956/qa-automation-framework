# SMS Infrastructure Environment Variables
# Copy this file to .env and configure with your actual values

# =============================================================================
# REQUIRED VARIABLES - SMS service will not start without these
# =============================================================================

# Twilio Configuration (REQUIRED)
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_AREA_CODE=720

# =============================================================================
# OPTIONAL VARIABLES - SMS service will work without these but with reduced functionality
# =============================================================================

# AWS SNS Configuration (Optional - for failover)
AWS_SNS_ACCESS_KEY=your_aws_access_key_here
AWS_SNS_SECRET_KEY=your_aws_secret_key_here
AWS_SNS_REGION=us-east-1

# RabbitMQ Configuration (Optional - defaults provided)
RABBITMQ_USER=admin
RABBITMQ_PASS=admin123

# SMS Worker Configuration (Optional - defaults provided)
SMS_WORKER_CONCURRENCY=4
SMS_WORKER_PREFETCH=10

# =============================================================================
# MONITORING AND ALERTING (Optional)
# =============================================================================

# Grafana Configuration
GRAFANA_ADMIN_PASSWORD=admin123

# Alert Webhooks (Optional)
ALERT_WEBHOOK_URL=https://your-webhook-url.com/alert
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Set to true for development mode
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# INFRASTRUCTURE SCALING (Optional)
# =============================================================================

# Number of SMS worker replicas
SMS_WORKER_REPLICAS=2

# Redis Configuration
REDIS_MAX_MEMORY=1gb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# RabbitMQ Configuration  
RABBITMQ_VM_MEMORY_HIGH_WATERMARK=0.8
RABBITMQ_DISK_FREE_LIMIT=2GB
RABBITMQ_MAX_CONNECTIONS=1000

# =============================================================================
# PERFORMANCE TUNING (Optional - advanced users only)
# =============================================================================

# Circuit Breaker Settings
CIRCUIT_BREAKER_THRESHOLD=10
CIRCUIT_BREAKER_TIMEOUT=30

# Rate Limiting
RATE_LIMIT_PER_PHONE=5
RATE_LIMIT_WINDOW=300

# Queue Settings
MESSAGE_TTL_SECONDS=3600
MAX_RETRIES=3

# Connection Pool Settings
REDIS_MAX_CONNECTIONS=100
RABBITMQ_PREFETCH_COUNT=10

# =============================================================================
# SECURITY (Production deployments)
# =============================================================================

# JWT Secrets (generate with: openssl rand -base64 32)
JWT_SECRET=your_jwt_secret_here

# API Keys (generate secure random strings)
SMS_SERVICE_API_KEY=your_api_key_here

# =============================================================================
# EXAMPLE CONFIGURATION - DEVELOPMENT
# =============================================================================

# For local development, you might use:
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your_auth_token
# TWILIO_PHONE_NUMBER=+15551234567
# TWILIO_AREA_CODE=555
# RABBITMQ_USER=admin  
# RABBITMQ_PASS=admin123
# LOG_LEVEL=DEBUG

# =============================================================================
# EXAMPLE CONFIGURATION - PRODUCTION  
# =============================================================================

# For production, ensure you have:
# - Strong passwords for RABBITMQ_PASS
# - Real AWS credentials if using SNS failover
# - Monitoring webhooks configured
# - Proper scaling settings for your load
# - Secure JWT secrets and API keys