# Phase 13: Environment Configuration for Autonomous Engagement System
# Production-ready environment variables with security and monitoring

# ============================================================================
# CORE APPLICATION SETTINGS
# ============================================================================
NODE_ENV=production
LOG_LEVEL=info
PORT=3000
API_VERSION=v2.0.0
SERVICE_NAME=telegram-engagement-bot

# ============================================================================
# TELEGRAM BOT CONFIGURATION
# ============================================================================
# Replace with actual bot token from @BotFather
BOT_TOKEN=your_telegram_bot_token_here
BOT_USERNAME=your_bot_username
WEBHOOK_URL=https://your-domain.com/webhook/telegram-webhook
WEBAPP_URL=https://your-domain.com

# ============================================================================
# AI SERVICES
# ============================================================================
# OpenAI API for AI-powered features
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# MongoDB settings
MONGODB_URL=mongodb://admin:your_mongodb_password@mongodb:27017/telegram-engagement?authSource=admin
MONGODB_PASSWORD=your_secure_mongodb_password_here
MONGODB_DATABASE=telegram-engagement

# Redis settings
REDIS_URL=redis://:your_redis_password@redis:6379/0
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_DELAY_ON_FAILED_COMMANDS=100

# ============================================================================
# SECURITY & ENCRYPTION
# ============================================================================
# JWT settings
JWT_SECRET=your_super_secure_jwt_secret_at_least_32_chars_long
JWT_EXPIRES_IN=24h

# Encryption keys
ENCRYPTION_KEY=your_32_character_encryption_key_here
HASH_SALT=your_random_hash_salt_for_data_protection

# Rate limiting
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_PREMIUM_REQUESTS=500

# Security headers
SECURITY_HEADERS_ENABLED=true
CORS_ORIGIN=https://your-domain.com,https://api.your-domain.com
TRUSTED_PROXIES=127.0.0.1,172.16.0.0/12

# ============================================================================
# SECRETS MANAGEMENT
# ============================================================================
# HashiCorp Vault
VAULT_URL=http://vault:8200
VAULT_ROOT_TOKEN=your_vault_root_token_here
VAULT_MOUNT_POINT=telegram-bot
VAULT_ENABLED=true

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics
PROMETHEUS_GATEWAY=http://prometheus-gateway:9091

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=300000
HEALTH_CHECK_TIMEOUT=10000
HEALTH_CHECK_PATH=/health

# Logging
LOG_FORMAT=json
LOG_MAX_SIZE=100m
LOG_MAX_FILES=30
LOG_DATE_PATTERN=YYYY-MM-DD

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Notification services
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_FROM_PHONE=+1234567890

SENDGRID_API_KEY=your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@your-domain.com

SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================
# AWS S3 for backups
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
BACKUP_S3_BUCKET=your-backup-bucket-name

# Backup schedule
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_ENABLED=true

# ============================================================================
# PERFORMANCE & SCALING
# ============================================================================
# Connection pools
DATABASE_POOL_SIZE=10
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_POOL_IDLE_TIMEOUT=10000

# Caching
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_COMPRESSION_ENABLED=true

# Worker processes
WORKER_PROCESSES=auto
WORKER_CONNECTIONS=1024
WORKER_TIMEOUT=30

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_AI_ASSISTANT=true
FEATURE_GAMIFICATION=true
FEATURE_REFERRAL_SYSTEM=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_NOTIFICATIONS=true
FEATURE_AUTOMATED_MODERATION=true
FEATURE_MULTI_LANGUAGE_SUPPORT=false
FEATURE_BETA_FEATURES=false

# ============================================================================
# COMPLIANCE & AUDIT
# ============================================================================
# GDPR compliance
GDPR_ENABLED=true
GDPR_RETENTION_DAYS=1095
GDPR_AUTO_DELETE=true

# CCPA compliance  
CCPA_ENABLED=true
CCPA_OPT_OUT_ENABLED=true

# COPPA compliance
COPPA_ENABLED=true
COPPA_AGE_VERIFICATION=true

# Audit logging
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=365
AUDIT_ENCRYPT_LOGS=true
AUDIT_LOG_LEVEL=info

# ============================================================================
# GRAFANA DASHBOARD
# ============================================================================
GRAFANA_PASSWORD=your_secure_grafana_password
GRAFANA_ADMIN_USER=admin
GRAFANA_ALLOW_SIGN_UP=false
GRAFANA_DEFAULT_THEME=dark

# ============================================================================
# ALERT CONFIGURATION
# ============================================================================
# Alert thresholds
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=85
ALERT_DISK_THRESHOLD=90
ALERT_RESPONSE_TIME_THRESHOLD=1000
ALERT_ERROR_RATE_THRESHOLD=5

# Alert channels
ALERT_EMAIL_ENABLED=true
ALERT_SLACK_ENABLED=true
ALERT_SMS_ENABLED=true
ALERT_WEBHOOK_ENABLED=true

# Emergency contacts
EMERGENCY_EMAIL=ops-team@your-domain.com
EMERGENCY_PHONE=+1234567890
ON_CALL_SCHEDULE_ENABLED=true

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================
# Development settings (set to false in production)
DEBUG_MODE=false
VERBOSE_LOGGING=false
MOCK_EXTERNAL_SERVICES=false
SKIP_RATE_LIMITING=false

# Testing
TEST_DATABASE_URL=mongodb://localhost:27017/telegram-engagement-test
TEST_REDIS_URL=redis://localhost:6379/15
TEST_TIMEOUT=10000

# ============================================================================
# LEGAL COMPLIANCE WEBHOOKS
# ============================================================================
HEALTH_CHECK_WEBHOOK=https://your-monitoring-service.com/webhooks/health
COMPLIANCE_WEBHOOK=https://your-compliance-service.com/webhooks/audit
SECURITY_INCIDENT_WEBHOOK=https://your-security-service.com/webhooks/incident

# ============================================================================
# CUSTOM BUSINESS LOGIC
# ============================================================================
# Engagement scoring
ENGAGEMENT_POINTS_POLL_VOTE=5
ENGAGEMENT_POINTS_GAME_WIN=10
ENGAGEMENT_POINTS_DAILY_LOGIN=3
ENGAGEMENT_POINTS_REFERRAL=100
ENGAGEMENT_POINTS_ACHIEVEMENT=25

# Leveling system
POINTS_PER_LEVEL=100
MAX_LEVEL=100
LEVEL_UP_BONUS_MULTIPLIER=1.5

# Gamification
DAILY_CHALLENGE_POINTS=50
WEEKLY_CHALLENGE_POINTS=200
MONTHLY_CHALLENGE_POINTS=500
ACHIEVEMENT_BONUS_MULTIPLIER=2.0

# Referral system
REFERRAL_BONUS_POINTS=100
REFERRAL_WELCOME_POINTS=25
MAX_REFERRALS_PER_USER=50
REFERRAL_CODE_EXPIRY_DAYS=30

# ============================================================================
# INFRASTRUCTURE LIMITS
# ============================================================================
# Resource limits
MAX_CONCURRENT_REQUESTS=1000
MAX_PAYLOAD_SIZE=10mb
MAX_UPLOAD_SIZE=50mb
REQUEST_TIMEOUT=30000
GRACEFUL_SHUTDOWN_TIMEOUT=10000

# Database limits
MAX_QUERY_TIME=5000
MAX_BATCH_SIZE=1000
MAX_TRANSACTIONS_PER_SECOND=500

# Cache limits
REDIS_MAX_MEMORY_POLICY=allkeys-lru
REDIS_MAX_MEMORY=512mb

# ============================================================================
# SSL/TLS CONFIGURATION
# ============================================================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/telegram-bot.pem
SSL_KEY_PATH=/etc/ssl/private/telegram-bot-key.pem
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
SSL_CIPHERS=ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS

# Certificate renewal
CERT_AUTO_RENEWAL=true
CERT_RENEWAL_WEBHOOK=https://your-domain.com/webhooks/cert-renewal

# ============================================================================
# GEOGRAPHIC & LOCALIZATION
# ============================================================================
DEFAULT_TIMEZONE=UTC
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,it,pt,ru,zh,ja,ko
GEOGRAPHIC_RESTRICTIONS=none
CONTENT_DELIVERY_NETWORK=cloudflare

# ============================================================================
# ADVANCED FEATURES
# ============================================================================
# Machine Learning
ML_ENABLED=false
ML_MODEL_PATH=/models/engagement-prediction
ML_BATCH_SIZE=32
ML_PREDICTION_THRESHOLD=0.7

# Real-time features
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=3001
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_HEARTBEAT_INTERVAL=30000

# API Gateway
API_GATEWAY_ENABLED=false
API_GATEWAY_URL=https://api-gateway.your-domain.com
API_GATEWAY_KEY=your_api_gateway_key

# Content moderation
CONTENT_MODERATION_ENABLED=true
CONTENT_MODERATION_AI=true
PROFANITY_FILTER_ENABLED=true
SPAM_DETECTION_ENABLED=true

# ============================================================================
# CONTAINER ORCHESTRATION
# ============================================================================
# Kubernetes settings
K8S_NAMESPACE=telegram-engagement
K8S_SERVICE_ACCOUNT=telegram-bot-sa
K8S_CLUSTER_NAME=production-cluster
K8S_INGRESS_CLASS=nginx

# Docker settings
DOCKER_REGISTRY=your-registry.com
DOCKER_TAG=latest
DOCKER_HEALTH_CHECK_ENABLED=true

# ============================================================================
# ENVIRONMENT VALIDATION
# ============================================================================
# This section ensures all required variables are set
REQUIRED_VARS=BOT_TOKEN,MONGODB_URL,REDIS_URL,JWT_SECRET,ENCRYPTION_KEY
OPTIONAL_VARS=OPENAI_API_KEY,TWILIO_ACCOUNT_SID,AWS_ACCESS_KEY_ID
CONFIG_VALIDATION_ENABLED=true